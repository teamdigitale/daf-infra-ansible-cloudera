{
  "name": "dev-cluster-08",
  "productVersions": {
    "CDH": "5"
  },
  "services": [
    "HBASE",
    "HDFS",
    "HIVE",
    "HUE",
    "IMPALA",
    "OOZIE",
    "SPARK_ON_YARN",
    "YARN",
    "ZOOKEEPER"
  ],
  "servicesConfigs": {
    "HDFS": {
      "hadoop_security_authorization": "true",
      "dfs_ha_fencing_methods": "shell(true)"
    },
    "HIVE": {
      "audit_event_log_dir": "/data0/log/hive/audit",
      "lineage_event_log_dir": "/data0/log/hive/lineage"
    },
    "HBASE": {
      "audit_event_log_dir": "/data0/log/hbase/audit"
    }

  },
  "virtualInstanceGroups": {
    "edge": {
      "name": "edge",
      "virtualInstances": [{
        "id": "Noh2vaqu-809f-42e6-bc21-e6acd7bb3a51-edge-01",
        "template": {
            "name": "edge-template",
            "type": "STANDARD_DS12_V2",
            "image": "cloudera-centos-75-latest",
            "rackId": "/default",
            "bootstrapScripts": [
                {
                    "env": null,
                    "content": "#!/bin/sh\n\n# Install prerequisites\nyum install -y https://centos7.iuscommunity.org/ius-release.rpm epel-release\nyum -y update\nyum install -y git2u ansible\n\n# Clone daf-infra-ansible-cloudera repository\nrm -rf daf-infra-cloudera-bootstrap\nGIT_SSH_COMMAND=\"ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\" git clone https://github.com/teamdigitale/daf-infra-cloudera-bootstrap.git\n\npushd daf-infra-cloudera-bootstrap\n\nansible-playbook bootstrap.yml -i inventory/hosts-dev.yml\n"
                }
            ],
            "preTerminateScripts": [],
            "config": {
                "dataDiskSize": "100",
                "virtualNetworkResourceGroup": "daf-dev-rg",
                "automatic": "false",
                "publicIP": "No",
                "dataDiskCount": "5",
                "subnetName": "daf-dev-subnet-cloudera",
                "virtualNetwork": "daf-dev-vnet-cloudera",
                "computeResourceGroup": "daf-dev-rg",
                "instanceNamePrefix": "director",
                "storageAccountType": "Standard_LRS",
                "useCustomManagedImage": "No",
                "networkSecurityGroupResourceGroup": "daf-dev-rg",
                "networkSecurityGroup": "daf-dev-sg-cloudera"
            },
            "tags": null,
            "normalizeInstance": true,
            "sshUsername": "teamdigitale",
            "sshHostKeyRetrievalType": "NONE"
        }
    }],
      "minCount": 1,
      "serviceTypeToRoleTypes": {
        "SPARK_ON_YARN": [
          "GATEWAY"
        ],
        "HIVE": [
          "GATEWAY"
        ],
        "HDFS": [
          "GATEWAY"
        ],
        "HBASE": [
          "GATEWAY"
        ],
        "YARN": [
          "GATEWAY"
        ]
      },
      "roleTypesConfigs": {}
    },
    "data": {
      "name": "data",
      "virtualInstances": [{
        "id": "iep5euPh-809f-42e6-bc21-e6acd7bb3a51-data-01",
        "template": {
            "name": "edge-template",
            "type": "STANDARD_DS12_V2",
            "image": "cloudera-centos-75-latest",
            "rackId": "/default",
            "bootstrapScripts": [
                {
                    "env": null,
                    "content": "#!/bin/sh\n\n# Install prerequisites\nyum install -y https://centos7.iuscommunity.org/ius-release.rpm epel-release\nyum -y update\nyum install -y git2u ansible\n\n# Clone daf-infra-ansible-cloudera repository\nrm -rf daf-infra-cloudera-bootstrap\nGIT_SSH_COMMAND=\"ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\" git clone https://github.com/teamdigitale/daf-infra-cloudera-bootstrap.git\n\npushd daf-infra-cloudera-bootstrap\n\nansible-playbook bootstrap.yml -i inventory/hosts-dev.yml\n"
                }
            ],
            "preTerminateScripts": [],
            "config": {
                "dataDiskSize": "100",
                "virtualNetworkResourceGroup": "daf-dev-rg",
                "automatic": "false",
                "publicIP": "No",
                "dataDiskCount": "5",
                "subnetName": "daf-dev-subnet-cloudera",
                "virtualNetwork": "daf-dev-vnet-cloudera",
                "computeResourceGroup": "daf-dev-rg",
                "instanceNamePrefix": "director",
                "storageAccountType": "Standard_LRS",
                "useCustomManagedImage": "No",
                "networkSecurityGroupResourceGroup": "daf-dev-rg",
                "networkSecurityGroup": "daf-dev-sg-cloudera"
            },
            "tags": null,
            "normalizeInstance": true,
            "sshUsername": "teamdigitale",
            "sshHostKeyRetrievalType": "NONE"
        }
      },
      {
        "id": "Opheec4B-809f-42e6-bc21-e6acd7bb3a51-data-02",
        "template": {
            "name": "edge-template",
            "type": "STANDARD_DS12_V2",
            "image": "cloudera-centos-75-latest",
            "rackId": "/default",
            "bootstrapScripts": [
                {
                    "env": null,
                    "content": "#!/bin/sh\n\n# Install prerequisites\nyum install -y https://centos7.iuscommunity.org/ius-release.rpm epel-release\nyum -y update\nyum install -y git2u ansible\n\n# Clone daf-infra-ansible-cloudera repository\nrm -rf daf-infra-cloudera-bootstrap\nGIT_SSH_COMMAND=\"ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\" git clone https://github.com/teamdigitale/daf-infra-cloudera-bootstrap.git\n\npushd daf-infra-cloudera-bootstrap\n\nansible-playbook bootstrap.yml -i inventory/hosts-dev.yml\n"
                }
            ],
            "preTerminateScripts": [],
            "config": {
                "dataDiskSize": "100",
                "virtualNetworkResourceGroup": "daf-dev-rg",
                "automatic": "false",
                "publicIP": "No",
                "dataDiskCount": "5",
                "subnetName": "daf-dev-subnet-cloudera",
                "virtualNetwork": "daf-dev-vnet-cloudera",
                "computeResourceGroup": "daf-dev-rg",
                "instanceNamePrefix": "director",
                "storageAccountType": "Standard_LRS",
                "useCustomManagedImage": "No",
                "networkSecurityGroupResourceGroup": "daf-dev-rg",
                "networkSecurityGroup": "daf-dev-sg-cloudera"
            },
            "tags": null,
            "normalizeInstance": true,
            "sshUsername": "teamdigitale",
            "sshHostKeyRetrievalType": "NONE"
        }
                           },
                          {
        "id": "Theij7fu-809f-42e6-bc21-e6acd7bb3a51-data-03",
        "template": {
            "name": "edge-template",
            "type": "STANDARD_DS12_V2",
            "image": "cloudera-centos-75-latest",
            "rackId": "/default",
            "bootstrapScripts": [
                {
                    "env": null,
                    "content": "#!/bin/sh\n\n# Install prerequisites\nyum install -y https://centos7.iuscommunity.org/ius-release.rpm epel-release\nyum -y update\nyum install -y git2u ansible\n\n# Clone daf-infra-ansible-cloudera repository\nrm -rf daf-infra-cloudera-bootstrap\nGIT_SSH_COMMAND=\"ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\" git clone https://github.com/teamdigitale/daf-infra-cloudera-bootstrap.git\n\npushd daf-infra-cloudera-bootstrap\n\nansible-playbook bootstrap.yml -i inventory/hosts-dev.yml\n"
                }
            ],
            "preTerminateScripts": [],
            "config": {
                "dataDiskSize": "100",
                "virtualNetworkResourceGroup": "daf-dev-rg",
                "automatic": "false",
                "publicIP": "No",
                "dataDiskCount": "5",
                "subnetName": "daf-dev-subnet-cloudera",
                "virtualNetwork": "daf-dev-vnet-cloudera",
                "computeResourceGroup": "daf-dev-rg",
                "instanceNamePrefix": "director",
                "storageAccountType": "Standard_LRS",
                "useCustomManagedImage": "No",
                "networkSecurityGroupResourceGroup": "daf-dev-rg",
                "networkSecurityGroup": "daf-dev-sg-cloudera"
            },
            "tags": null,
            "normalizeInstance": true,
            "sshUsername": "teamdigitale",
            "sshHostKeyRetrievalType": "NONE"
        }
    }],
      "minCount": 3,
      "serviceTypeToRoleTypes": {
        "HBASE": [
          "REGIONSERVER"
        ],
        "HDFS": [
          "DATANODE"
        ],
        "IMPALA": [
          "IMPALAD"
        ],
        "YARN": [
          "NODEMANAGER"
        ]
      },
      "roleTypesConfigs": {}
    },
    "masters": {
      "name": "masters",
      "virtualInstances": [{
        "id": "Ui6EiH3I-dev-cloudera-master-01",
        "template": {
            "name": "edge-template",
            "type": "STANDARD_DS12_V2",
            "image": "cloudera-centos-75-latest",
            "rackId": "/default",
            "bootstrapScripts": [
                {
                    "env": null,
                    "content": "#!/bin/sh\n\n# Install prerequisites\nyum install -y https://centos7.iuscommunity.org/ius-release.rpm epel-release\nyum -y update\nyum install -y git2u ansible\n\n# Clone daf-infra-ansible-cloudera repository\nrm -rf daf-infra-cloudera-bootstrap\nGIT_SSH_COMMAND=\"ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\" git clone https://github.com/teamdigitale/daf-infra-cloudera-bootstrap.git\n\npushd daf-infra-cloudera-bootstrap\n\nansible-playbook bootstrap.yml -i inventory/hosts-dev.yml\n"
                }
            ],
            "preTerminateScripts": [],
            "config": {
                "dataDiskSize": "100",
                "virtualNetworkResourceGroup": "daf-dev-rg",
                "automatic": "false",
                "publicIP": "No",
                "dataDiskCount": "5",
                "subnetName": "daf-dev-subnet-cloudera",
                "virtualNetwork": "daf-dev-vnet-cloudera",
                "computeResourceGroup": "daf-dev-rg",
                "instanceNamePrefix": "director",
                "storageAccountType": "Standard_LRS",
                "useCustomManagedImage": "No",
                "networkSecurityGroupResourceGroup": "daf-dev-rg",
                "networkSecurityGroup": "daf-dev-sg-cloudera"
            },
            "tags": null,
            "normalizeInstance": true,
            "sshUsername": "teamdigitale",
            "sshHostKeyRetrievalType": "NONE"
        }
    }],
      "minCount": 1,
      "serviceTypeToRoleTypes": {
        "HIVE": [
          "HIVEMETASTORE",
          "HIVESERVER2"
        ],
        "HUE": [
          "HUE_SERVER"
        ],
        "ZOOKEEPER": [
          "SERVER"
        ],
        "OOZIE": [
          "OOZIE_SERVER"
        ],
        "HDFS": [
          "NAMENODE",
          "SECONDARYNAMENODE",
          "BALANCER"
        ],
        "HBASE": [
          "MASTER"
        ],
        "IMPALA": [
          "CATALOGSERVER",
          "STATESTORE"
        ],
        "YARN": [
          "RESOURCEMANAGER",
          "JOBHISTORY"
        ],
        "SPARK_ON_YARN": [
          "SPARK_YARN_HISTORY_SERVER"
        ]
      },
      "roleTypesConfigs": {}
    }
  },
  "externalDatabaseTemplates": {
    "HIVE": {
      "name": "hivetemplate",
      "databaseServerName": "existingmysql1",
      "databaseNamePrefix": "hivedb"
    },
    "HUE": {
      "name": "huetemplate",
      "databaseServerName": "existingmysql1",
      "databaseNamePrefix": "huedb"
    },
    "OOZIE": {
      "name": "oozietemplate",
      "databaseServerName": "existingmysql1",
      "databaseNamePrefix": "ooziedb"
    }
  },
  "parcelRepositories": [
    "http://archive.cloudera.com/cdh5/parcels/5.12/"
  ]
}
